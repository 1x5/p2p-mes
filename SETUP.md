# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

## 1. –°–æ–∑–¥–∞–π –∏–∫–æ–Ω–∫–∏ (—Å–º. ICONS.md)

–ë—ã—Å—Ç—Ä–æ: https://cloudconvert.com/svg-to-png
- –ó–∞–≥—Ä—É–∑–∏ `icon.svg`
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π –≤ 128px, 48px, 16px
- –ü–æ–ª–æ–∂–∏ –≤ –ø–∞–ø–∫—É `icons/`

---

## 2. –ù–∞—Å—Ç—Ä–æ–π –¥–æ–º–µ–Ω –≤ –∫–æ–¥–µ

–û—Ç–∫—Ä–æ–π **popup.js**, —Å—Ç—Ä–æ–∫–∞ 2-4:

```javascript
// –ó–ê–ú–ï–ù–ò –Ω–∞ —Å–≤–æ–π –¥–æ–º–µ–Ω:
const WS_URL = 'wss://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com';
```

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –æ—Å—Ç–∞–≤—å:
```javascript
const WS_URL = 'ws://localhost:3000';
```

---

## 3. –£—Å—Ç–∞–Ω–æ–≤–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ Chrome

1. –û—Ç–∫—Ä–æ–π `chrome://extensions/`
2. –í–∫–ª—é—á–∏ **"–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞"** (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
3. –ù–∞–∂–º–∏ **"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"**
4. –í—ã–±–µ—Ä–∏ –ø–∞–ø–∫—É `/Users/ff/Documents/cursor/p2p-mes`
5. –ì–æ—Ç–æ–≤–æ! –ò–∫–æ–Ω–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏

---

## 4. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∞)

```bash
cd /Users/ff/Documents/cursor/p2p-mes
npm install
npm start
```

–£–≤–∏–¥–∏—à—å:
```
üöÄ –°–∏–≥–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
   WebSocket: ws://localhost:3000
```

---

## 5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π

1. –û—Ç–∫—Ä–æ–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (–∫–ª–∏–∫ –Ω–∞ –∏–∫–æ–Ω–∫—É)
2. –û—Ç–∫—Ä–æ–π –≤—Ç–æ—Ä–æ–µ –æ–∫–Ω–æ Chrome (–∏–ª–∏ Incognito)
3. –û—Ç–∫—Ä–æ–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∞–º –∂–µ
4. **–û–±–µ –∏–∫–æ–Ω–∫–∏ —Å—Ç–∞–Ω—É—Ç –∑–µ–ª–µ–Ω—ã–º–∏** üü¢
5. –ü–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî –¥–æ–ª–∂–Ω—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å—Å—è

---

## 6. –î–µ–ø–ª–æ–π –Ω–∞ Timeweb Cloud

### 6.1 –ó–∞–≥—Ä—É–∑–∏ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/1x5/p2p-mes.git
git push -u origin main
```

### 6.2 –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Timeweb

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –ø–æ SSH
ssh user@—Ç–≤–æ–π-—Å–µ—Ä–≤–µ—Ä.com

# –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/1x5/p2p-mes.git
cd p2p-mes

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ó–∞–ø—É—Å—Ç–∏ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π PM2)
npm start
```

### 6.3 –ù–∞—Å—Ç—Ä–æ–π PM2 (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ PM2
npm install -g pm2

# –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start server.js --name "p2p-messenger"

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
pm2 startup
pm2 save
```

### 6.4 –ù–∞—Å—Ç—Ä–æ–π Nginx (–¥–ª—è WSS)

–°–æ–∑–¥–∞–π `/etc/nginx/sites-available/p2p-mes`:

```nginx
server {
    listen 80;
    server_name —Ç–≤–æ–π-–¥–æ–º–µ–Ω.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name —Ç–≤–æ–π-–¥–æ–º–µ–Ω.com;

    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (Timeweb –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç)
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        
        # WebSocket support
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã
        proxy_read_timeout 86400;
        proxy_send_timeout 86400;
    }
}
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π:
```bash
ln -s /etc/nginx/sites-available/p2p-mes /etc/nginx/sites-enabled/
nginx -t
systemctl reload nginx
```

---

## 7. –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

–í **popup.js** –∏–∑–º–µ–Ω–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:

```javascript
const WS_URL = 'wss://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.com';
```

–û–±–Ω–æ–≤–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ Chrome:
- `chrome://extensions/` ‚Üí –∫–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" —É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

- [ ] –ò–∫–æ–Ω–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ popup.js
- [ ] –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Timeweb
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è WSS
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —É –æ–±–æ–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–±–æ–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π ‚Äî –∑–µ–ª–µ–Ω—ã–µ —Ç–æ—á–∫–∏
- [ ] –°–æ–æ–±—â–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- [ ] –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –æ–¥–Ω–æ–≥–æ ‚Äî —É –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞

---

## üêõ Troubleshooting

**–ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–µ–ª–µ–Ω–æ–π:**
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 –≤ popup)
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `pm2 logs p2p-messenger`
- –ü—Ä–æ–≤–µ—Ä—å WebSocket –≤ DevTools ‚Üí Network ‚Üí WS

**–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:**
- –£–±–µ–¥–∏—Å—å —á—Ç–æ nginx –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç WebSocket
- –ü—Ä–æ–≤–µ—Ä—å firewall: –ø–æ—Ä—Ç—ã 80, 443 –æ—Ç–∫—Ä—ã—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

**–°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è:**
- –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –æ–±–æ–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å P2P: `Connection state: connected`
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ STUN —Å–µ—Ä–≤–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã

